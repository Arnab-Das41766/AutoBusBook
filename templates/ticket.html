<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ticket | AutoBusBook</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&family=Outfit:wght@500;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="/static/style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
</head>

<body>
    <nav class="main-header" style="position:relative; background:var(--bg-surface);">
        <div class="container nav-container" style="display:flex; justify-content:space-between; align-items:center;">
            <div class="logo">AutoBusBook</div>
            <div class="nav-menu">
                <a href="/">Home</a>
                <a href="/login">Login/Register</a>
            </div>
        </div>
    </nav>

    <main class="container"
        style="margin-top:2rem; padding-bottom:4rem; min-height:80vh; display:flex; flex-direction:column; align-items:center;">

        <div id="ticket-details-loader" style="color:var(--text-muted); font-size:1.2rem; margin-top:2rem;">
            Loading ticket details...
        </div>

        <div id="ticket-body" style="display:none; width:100%; max-width:600px;">
            <div style="text-align:center; margin-bottom:2rem;">
                <h2 style="color:#4ade80; display:flex; align-items:center; justify-content:center; gap:10px;">
                    Booking Confirmed!
                    <span
                        style="background:#4ade80; color:black; border-radius:50%; width:24px; height:24px; display:inline-flex; align-items:center; justify-content:center; font-size:14px;">✓</span>
                </h2>
                <p style="color:var(--text-muted);">Thank you for booking with us.</p>
            </div>

            <div class="ticket-container">
                <div class="ticket-header">
                    <h3 id="t-operator">Operator Name</h3>
                    <div class="pnr-box" id="t-pnr">PNR: LOADING</div>
                </div>

                <div style="padding:1.5rem;">
                    <div
                        style="display:flex; justify-content:space-between; margin-bottom:1rem; border-bottom:1px solid var(--border-light); padding-bottom:1rem;">
                        <div>
                            <span
                                style="font-size:0.8rem; color:var(--text-muted); text-transform:uppercase; letter-spacing:1px;">Route</span>
                            <div id="t-route" style="font-size:1.1rem; font-weight:600; color:white; margin-top:4px;">
                                City A -> City B</div>
                        </div>
                    </div>

                    <div style="display:grid; grid-template-columns: 1fr 1fr; gap:1rem; margin-bottom:1.5rem;">
                        <div>
                            <span
                                style="font-size:0.8rem; color:var(--text-muted); text-transform:uppercase; letter-spacing:1px;">Date</span>
                            <div id="t-date" style="font-size:1.1rem; color:white; margin-top:4px;">DD MMM YYYY</div>
                        </div>
                        <div style="text-align:right;">
                            <span
                                style="font-size:0.8rem; color:var(--text-muted); text-transform:uppercase; letter-spacing:1px;">Time</span>
                            <div id="t-time" style="font-size:1.1rem; color:white; margin-top:4px;">00:00</div>
                        </div>
                    </div>

                    <div style="background:var(--bg-body); padding:1rem; border-radius:12px; margin-bottom:1.5rem;">
                        <span
                            style="font-size:0.8rem; color:var(--text-muted); text-transform:uppercase; letter-spacing:1px; display:block; margin-bottom:10px;">Passengers</span>
                        <div id="t-passengers">
                            <!-- Populated by JS -->
                        </div>
                    </div>

                    <div
                        style="display:flex; justify-content:space-between; align-items:center; margin-top:1rem; padding-top:1rem; border-top:1px dashed var(--border-light);">
                        <div id="qrcode" style="background:white; padding:5px; border-radius:4px;"></div>
                        <div style="text-align:right;">
                            <span style="font-size:0.9rem; color:var(--text-muted);">Total Paid</span>
                            <div style="font-size:1.5rem; font-weight:bold; color:var(--accent-primary);" id="t-amount">
                                ₹0</div>
                        </div>
                    </div>
                </div>
            </div>

            <div style="text-align:center; margin-top:2rem;">
                <button onclick="window.print()" class="primary">Download Ticket</button>
                <a href="/"
                    style="display:inline-block; margin-left:1rem; color:var(--text-muted); text-decoration:none;">Back
                    to Home</a>
            </div>
        </div>

    </main>
    <script src="/static/script.js" defer></script>
</body>

</html>